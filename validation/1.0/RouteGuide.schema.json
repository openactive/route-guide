{
   "$schema":"http://json-schema.org/draft-06/schema#",
   "$id":"https://openactive.io/routes/validation/RouteGuide.schema.json",
   "$vocabulary":{
      "https://json-schema.org/draft/2019-09/vocab/core":true
   },
   "type":"object",
   "title":"JSON-LD schema for RouteGuide objects.",
   "required":[
      "@context",
      "@id",
      "@type",
      "name",
      "description",
      "activity",
      "distance",
      "startPoint"
   ],
   "properties":{
      "@context":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/URL"
         }
      },
      "@id":{
         "$ref":"submodels/lib.schema.json#/definitions/URL"
      },
      "@type":{
         "type":"string",
         "pattern":"RouteGuide"
      },
      "name":{
         "type":"string",
         "minLength":4,
         "maxLength":1024
      },
      "url":{
        "$ref":"submodels/lib.schema.json#/definitions/URL"
      },
      "author":{
         "type":"array",
         "items":{
            "anyOf":[
               {
                  "$ref":"submodels/Person.schema.json"
               },
               {
                  "$ref":"submodels/Organization.schema.json"
               }
            ]
         }
      },
      "datePublished":{
         "type":"string",
         "minLength":8,
         "maxLength":128
      },
      "dateModified":{
         "type":"string",
         "minLength":8,
         "maxLength":128
      },
      "verificationRecord":{
         "$ref":"submodels/lib.schema.json#/definitions/VerificationRecord"
      },
      "description":{
         "$ref":"submodels/lib.schema.json#/definitions/Description"
      },
      "headline":{
         "$ref":"submodels/lib.schema.json#/definitions/Headline"
      },
      "activity":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/Concept"
         }
      },
      "distance":{
         "$ref":"submodels/lib.schema.json#/definitions/QuantitativeValue"
      },
      "indicativeDuration":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/IndicativeDuration"
         }
      },
      "startPoint":{
         "$ref":"submodels/lib.schema.json#/definitions/RoutePoint"
      },
      "endPoint":{
         "$ref":"submodels/lib.schema.json#/definitions/RoutePoint"
      },
      "pointOfInterest":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/RoutePoint"
         }
      },
      "accessibilityDescription":{
         "type":"array",
         "items":{
            "type":"string",
            "minLength":4
         }
      },
      "gradient":{
         "$ref":"submodels/lib.schema.json#/definitions/RouteGradient"
      },
      "surface":{
         "type":"array",
         "items":{
            "type":"string"
         }
      },
      "routeDifficulty":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/RouteDifficulty"
         }
      },
      "geoPath":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/MapAsGeo"
         }
      },
      "mapImage":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/MapAsImage"
         }
      },
      "category":{
         "type":"array",
         "items":{
            "anyOf":[
               {
                  "type":"string"
               },
               {
                  "$ref":"submodels/lib.schema.json#/definitions/Concept"
               }
            ]
         }
      },
      "additionalInformation":{
         "type":"array",
         "items":{
            "$ref":"submodels/Article.schema.json"
         }
      },
      "amenityFeature":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/LocationFeatureSpecification"
         }
      },
      "isLoop":{
         "type":"boolean"
      },
      "riskInformation":{
         "$ref":"submodels/lib.schema.json#/definitions/RouteRiskAdvisory"
      },
      "legalAdvisory":{
         "$ref":"submodels/lib.schema.json#/definitions/RouteLegalAdvisory"
      },
      "routeAccessRestriction":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/RouteAccessRestriction"
         }
      },
      "suggestedEquipment":{
         "type":"array",
         "items":{
            "type":"string"
         }
      },
      "image":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/ImageObject"
         }
      },
      "review":{
         "type":"array",
         "items":{
            "$ref":"submodels/Review.schema.json"
         }
      },
      "contactPoint":{
         "$ref":"submodels/lib.schema.json#/definitions/ContactPoint"
      },
      "userContributedContent":{
         "$ref":"submodels/lib.schema.json#/definitions/UserContributedContent"
      },
      "isJoinableThroughoutLength":{
         "type":"boolean"
      },
      "segmentGroups":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/RouteSegmentGroup"
         }
      },
      "segments":{
         "type":"array",
         "items":{
            "$ref":"submodels/RouteSegmentGuide.schema.json"
         }
      }
   },
   "definitions":{
      "Date":{
         "type":"string",
         "format":"date"
      },
      "DateTime":{
         "type":"string",
         "format":"date-time"
      },
      "VerificationRecord":{
         "type":"object",
         "properties":{
            "dateVerified":{
               "type":"string",
               "format":"date"
            },
            "verifiedBy":{
               "type":"array",
               "items":{
                  "anyOf":[
                     {
                        "$ref":"submodels/Person.schema.json"
                     },
                     {
                        "$ref":"submodels/Organization.schema.json"
                     }
                  ]
               }
            }
         }
      },
      "QuantitativeValue":{
         "type":"object",
         "required":[
            "value",
            "unitCode"
         ],
         "patternProperties":{
            ".*":{

            }
         }
      },
      "IndicativeDuration":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"IndicativeDuration"
            },
            "activity":{
               "$ref":"submodels/lib.schema.json#/definitions/Concept"
            },
            "duration":{
               "type":"string",
               "minLength":2,
               "maxLength":32
            }
         }
      },
      "RoutePoint":{
         "type":"object",
         "required":[
            "type",
            "description"
         ],
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"RoutePoint"
            },
            "name":{
               "type":"string",
               "minLength":4,
               "maxLength":256
            },
            "geo":{
               "$ref":"submodels/GeoCoordinates.schema.json"
            },
            "isAccessPoint":{
               "type":"boolean"
            },
            "isRecommendedAccessPoint":{
               "type":"boolean"
            },
            "mapReference":{
               "$ref":"submodels/lib.schema.json#/definitions/MapReference"
            },
            "transportNote":{
               "$ref":"submodels/lib.schema.json#/definitions/TransportNote"
            },
            "headline":{
               "$ref":"submodels/lib.schema.json#/definitions/Headline"
            },
            "description":{
               "$ref":"submodels/lib.schema.json#/definitions/Description"
            },
            "amenityFeature":{
               "$ref":"submodels/lib.schema.json#/definitions/AmenityFeature"
            },
            "userContributedContent":{
               "$ref":"submodels/lib.schema.json#/definitions/UserContributedContent"
            },
            "sameAs":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            }
         }
      },
      "RouteGradient":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"RouteGradient"
            },
            "maxGradient":{
               "type":"string",
               "minLength":1,
               "maxLength":24
            },
            "avgGradient":{
               "type":"string",
               "minLength":1,
               "maxLength":24
            },
            "totalElevationGain":{
               "type":"integer"
            },
            "totalElevationLoss":{
               "type":"integer"
            },
            "gradientTerm":{
               "type":"string",
               "minLength":1,
               "maxLength":96
            },
            "gradientDefinitionURL":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "description":{
               "$ref":"submodels/lib.schema.json#/definitions/Description"
            }
         }
      },
      "RouteDifficulty":{
         "type":"object",
         "properties":{
            "difficultyTerm":{
               "type":"string",
               "minLength":1,
               "maxLength":48
            },
            "activity":{
               "$ref":"submodels/lib.schema.json#/definitions/Concept"
            },
            "description":{
               "$ref":"submodels/lib.schema.json#/definitions/Description"
            },
            "difficultyDefinitionURL":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            }
         }
      },
      "Map":{
         "type":"object",
         "properties":{

         }
      },
      "Concept":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"Concept"
            },
            "@id":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "broadMatch":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "narrowMatch":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "broader":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "narrower":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "inScheme":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "prefLabel":{
               "type":"string",
               "minLength":2,
               "maxLength":128
            },
            "definition":{
               "type":"string",
               "minLength":4,
               "maxLength":4096
            },
            "note":{
               "type":"string",
               "minLength":4,
               "maxLength":4096
            }
         }
      },
      "Article":{
         "type":"object",
         "properties":{

         }
      },
      "LocationFeatureSpecification":{
         "type":"object",
         "properties":{

         }
      },
      "RouteRiskAdvisory":{
         "type":"object",
         "required":[
            "@type"
         ],
         "properties":{
            "knownRisks":{
               "type":"array",
               "items":{
                  "type":"string"
               }
            },
            "riskModifiers":{
               "type":"array",
               "items":{
                  "type":"string"
               }
            },
            "riskMitigators":{
               "type":"array",
               "items":{
                  "type":"string"
               }
            },
            "riskDescription":{
               "type":"string",
               "minLength":3,
               "maxLength":512
            },
            "userSafetyFeedback":{
               "$ref":"submodels/lib.schema.json#/definitions/Review"
            },
            "isMaintained":{
               "type":"boolean"
            },
            "isMaintainedBy":{
               "anyOf":[
                  {
                     "$ref":"submodels/Person.schema.json"
                  },
                  {
                     "$ref":"submodels/Organization.schema.json"
                  }
               ]
            },
            "riskInformationURL":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "trafficDescription":{
               "type":"string",
               "minLength":3,
               "maxLength":512
            }
         }
      },
      "RouteLegalAdvisory":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"RouteLegalAdvisory"
            },
            "routeDesignation":{
               "$ref":"submodels/lib.schema.json#/definitions/RouteDesignation"
            },
            "description":{
               "$ref":"submodels/lib.schema.json#/definitions/Description"
            },
            "legalInformationURL":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            }
         }
      },
      "RouteAccessRestriction":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"RouteAccessRestriction"
            },
            "routeAccessRestrictionInformationURL":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "routeAccessRestrictionTimeSpan":{
               "type":"string",
               "minLength":4,
               "maxLength":36
            },
            "routeAccessRestrictionTerm":{
               "type":"string",
               "minLength":4,
               "maxLength":36
            },
            "description":{
               "$ref":"submodels/lib.schema.json#/definitions/Description"
            }
         }
      },
      "ImageObject":{
         "$ref":"submodels/ImageObject.schema.json"
      },
      "RouteDesignation":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"RouteDesignation"
            },
            "routeDesignationTerm":{
               "type":"string",
               "minLength":5,
               "maxLength":36
            },
            "description":{
               "$ref":"submodels/lib.schema.json#/definitions/Description"
            },
            "url":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            }
         }
      },
      "Review":{
         "type":"object",
         "properties":{

         }
      },
      "ContactPoint":{
         "$ref":"submodels/ContactPoint.schema.json"
      },
      "CreativeWork":{
         "type":"object",
         "properties":{

         }
      },
      "MapAsImage":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"Map"
            },
            "image":{
               "$ref":"submodels/lib.schema.json#/definitions/ImageObject"
            },
            "encodingFormat":{
               "oneOf":[
                  {
                     "type":"string"
                  },
                  {
                     "$ref":"submodels/lib.schema.json#/definitions/URL"
                  }
               ]
            }
         }
      },
      "MapAsGeo":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"Map"
            },
            "url":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "encodingFormat":{
               "oneOf":[
                  {
                     "type":"string"
                  },
                  {
                     "$ref":"submodels/lib.schema.json#/definitions/URL"
                  }
               ]
            }
         }
      },
      "RouteSegmentGroup":{
         "type":"object",
         "required":[
            "@id",
            "@type",
            "name",
            "includesSegments",
            "alternativeGroupTo"
         ],
         "properties":{
            "@id":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "@type":{
               "type":"string",
               "pattern":"RouteSegmentGroup"
            },
            "name":{
               "type":"string",
               "minLength":1,
               "maxLength":256
            },
            "description":{
               "$ref":"submodels/lib.schema.json#/definitions/Description"
            },
            "includesSegments":{
               "type":"array",
               "items":{
                  "$ref":"submodels/lib.schema.json#/definitions/URL"
               }
            },
            "alternativeGroupTo":{
               "type":"array",
               "items":{
                  "$ref":"submodels/lib.schema.json#/definitions/URL"
               }
            }
         }
      },
      "GeoCoordinates":{
         "type":"object",
         "properties":{

         }
      },
      "MapReference":{
         "type":"object",
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"MapReference"
            },
            "publisher":{
               "type":"array",
               "items":{
                  "anyOf":[
                     {
                        "$ref":"submodels/Person.schema.json"
                     },
                     {
                        "$ref":"submodels/Organization.schema.json"
                     }
                  ]
               }
            },
            "mapSeries":{
               "type":"string",
               "minLength":4,
               "maxLength":128
            },
            "mapNumber":{
               "type":"string",
               "minLength":4,
               "maxLength":128
            },
            "gridReference":{
               "type":"string",
               "minLength":4,
               "maxLength":128
            }
         }
      },
      "TransportNote":{
         "type":"object",
         "required":[
            "@type",
            "transportMode",
            "description"
         ],
         "properties":{
            "@type":{
               "type":"string",
               "pattern":"TransportNote"
            },
            "transportMode":{
               "$ref":"submodels/lib.schema.json#/definitions/URL"
            },
            "description":{
               "$ref":"submodels/lib.schema.json#/definitions/Description"
            }
         }
      },
      "AmenityFeature":{
         "type":"array",
         "items":{
            "$ref":"submodels/lib.schema.json#/definitions/LocationFeatureSpecification"
         }
      },
      "UserContributedContent":{
         "type":"array",
         "items":{
            "$ref":"submodels/CreativeWork.schema.json"
         }
      },
      "URL":{
         "type":"string",
         "pattern":"http(s)?://.+"
      }
   }
}
